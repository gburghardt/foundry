/*! foundry 2014-05-05 */
;Foundry.pollyfill=function(){return new Foundry.PollyfillPromise(Array.prototype.slice.call(arguments))};Foundry.PollyfillPromise=function PollyfillPromise(a){this.callbacks={afterAll:[],afterEach:[]};this.tests=a||[]};Foundry.PollyfillPromise.prototype={callbacks:null,tests:null,constructor:Foundry.PollyfillPromise,afterAll:function(b,a){this.callbacks.afterAll.push({func:b,context:a||null});return this},afterEach:function(b,a){this.callbacks.afterEach.push({func:b,context:a||null});return this},fullfill:function(){var b=arguments[0],a=Array.prototype.slice.call(arguments,1),e=this.callbacks[b]||null,f,c,d;if(!b){throw new Error("Missing required argument: name")}else{if(!e){throw new Error("Cannot fullfill invalid promise: "+b)}}for(c=0,d=e.length;c<d;c++){f=e[c];f.func.apply(f.context,a)}},start:function(){throw new Error("Not Implemented!")}};Foundry.PollyfillPromise.prototype.start=function(){var c=0,f=this.tests.length,a=c,e=this,h;for(c;c<f;c++){h=this.tests[c];h.callback=g;h.complete=b;yepnope(h)}function b(){if(++a===f){e.fullfill("afterAll",arguments)}}function g(){e.fullfill("afterEach",arguments)}function d(){h=e=null}};