/*! foundry 2014-05-14 */
;var TaskListModule=Module.Base.extend({prototype:{options:{confirmDeleteMessage:"Are you sure you want to delete this list?",confirmRemoveSelected:"Are you sure you want to remove the selected items",selectedClass:"selected",type:null},_ready:function(){Module.Base.prototype._ready.call(this);this.element.classList.add("taskList-"+this.options.type)},add:function submit(f,c,g){f.preventDefault();var e=c,b=e.elements.task,a=b.value,d;if(/^\s*$/.test(a)){this.window.alert("Please enter a task")}else{d=this.document.createElement("li");d.setAttribute("data-actions",this.controllerId+".toggle");d.innerHTML=a.charAt(0).toUpperCase()+a.substring(1);this.element.querySelector("ol").appendChild(d)}b.value="";b.focus()},destroy:function click(b,a,c){b.stop();if(this.getItemCount()===0||this.window.confirm(this.options.confirmDeleteMessage)){this.destructor()}},getItemCount:function(){return this.element.querySelectorAll("ol>li").length},removeSelected:function click(f,c,g){f.preventDefault();var a=this.element.querySelectorAll("ol>li."+this.options.selectedClass),b=0,e=a?a.length:0,d;if(e>0&&this.window.confirm(this.options.confirmRemoveSelected)){for(b;b<e;b++){d=a[b];d.parentNode.removeChild(d)}}},toggle:function click(b,a,c){a.classList.toggle(this.options.selectedClass)}}});